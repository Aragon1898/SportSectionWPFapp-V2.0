# Документация по внедрению WPF-приложения для учета спортивной секции

## 1. Общее описание

Данное приложение — это WPF-клиент, взаимодействующий с базой данных SQL Server через Entity Framework. Решение предназначено для учета спортсменов, тренировок и секций. Исходный код доставляется через `.rar`-архив и открывается через `.sln`-файл в Visual Studio.

## 2. Установка

### 2.1. Требования

* **Операционная система:** Windows 10 и выше
* **IDE:** Visual Studio 2022
* **.NET SDK:** .NET 6.0 и выше
* **База данных:** SQL Server (локальный или сетевой)
* **Пакеты NuGet:** Entity Framework, Microsoft SQL Client, и другие (автоматически восстанавливаются при открытии проекта)

### 2.2. Установка проекта

1. Распакуйте `.rar`-архив, полученный из репозитория.
2. Откройте решение (`.sln`) в Visual Studio 2022.
3. Дождитесь завершения восстановления NuGet-пакетов.

## 3. Первая настройка базы данных

Перед первым запуском возможно будет нужно вручную инициировать миграции и создать структуру базы данных.

### Шаги (ТОЛЬКО в случае, если база данных не работает):

1. Удалите папку `Migrations` в проекте (если она существует).
2. Удалите старую версию базы данных (если она уже создана).
3. Откройте **Консоль диспетчера пакетов NuGet** в Visual Studio.
4. Выполните последовательно следующие команды:
   1. `Enable-Migrations`
   2. `Add-Migration inith`
   3. `Update-Database`


После выполнения этих шагов база данных будет создана на основе текущих моделей.

## 4. Структура проекта

### 4.1. Слой представления (UI)

WPF-интерфейс реализован с помощью XAML. Интерфейс включает следующие основные элементы:

* Главное окно с таблицей учёта
* Панель навигации
* Формы добавления/редактирования записей
* Элементы для фильтрации и поиска

### 4.2. Слой бизнес-логики

* ViewModel классы реализуют шаблон MVVM
* Связывают интерфейс пользователя с бизнес-операциями
* Обрабатывают команды и события интерфейса

### 4.3. Слой доступа к данным

* Entity Framework используется для взаимодействия с SQL Server
* Классы моделей описывают сущности: `User`, `Admin`, `Coach`, `Member` и др.
* Контекст базы данных (`AppDbContext`) обеспечивает доступ к таблицам

### 4.4. Диаграмма классов

![Диаграмма классов](https://github.com/Aragon1898/SportSectionWPFapp-V2.0/blob/9bfe61b4d811f175c309160250f993cde868c335/%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2.jpg)

## 5. Обновление проекта и базы данных

В случае изменений в моделях данных:

1. Откройте консоль диспетчера пакетов
2. Введите команды:
 - `Add-Migration <название_миграции>`
 - `Update-Database`

Эти команды создадут новую миграцию и применят изменения к базе данных.